### **정규화(Normalization)**

- 정규화란?
    - 데이터의 중복을 줄이고, 무결성을 향상
- 정규화 탄생
- 정규화의 종류
    - **제1 정규화**
        - 테이블의 컬럼이 **원자값(Atomic Value, 하나의 값)을 갖도록** 테이블을 분해하는 것이다.
        - **조건**
        1. 각 컬럼이 하나의 속성만을 가져야 한다.
        2. 하나의 컬럼은 같은 종류나 타입(type)의 값을 가져야 한다.
        3. 각 컬럼이 유일한(unique) 이름을 가져야 한다.
        4. 칼럼의 순서가 상관없어야 한다.
    
    ![Untitled](https://github.com/5dotseven/cs-basic-study/assets/118906074/23afa73d-5af3-4bc1-8a64-3b3bbc296042)
    
    - 추신수와 박세리는 여러 개의 취미를 가지고 있기 때문에 제1 정규형을 만족하지 못하고 있다. 그렇기 때문에 이를 제1 정규화하여 분해할 수 있다
    
    ![Untitled](https://github.com/5dotseven/cs-basic-study/assets/118906074/cb32b336-1e5d-4d50-a36d-e8dfb10ee07b)
    
    - **제2 정규화(**2NF)
        - 제2 정규화란 제1 정규화를 진행한 테이블에 대해 테이블의 모든 컬럼이 **`완전 함수 종속`**을 만족하도록 테이블을 분해하는 것
        → 테이블에서 기본키가 복합키(키1, 키2)로 묶여있을 때, 두 키 중 하나의 키만으로 다른 컬럼을 결정지을 수 있으면 안된다.
            - **완전 함수적 종속**: `X -> Y` 라고 가정했을 때, X 의 어떠한 애트리뷰트라도 제거하면 더 이상 함수적 종속성이 성립하지 않는 경우
            즉, 키가 아닌 열들이 각각 후보키에 대해 결정되는 릴레이션 형태를 말한다.
        
        ![Untitled](https://github.com/5dotseven/cs-basic-study/assets/118906074/fa6499ca-2c82-42cd-89d8-efec40603075)
        
        - 위 예시를 보면 지도교수  칼럼은 (학생번호, 과목)에 종속되지 않고 과목에만 종속이 되어 있는 부분적 종속이기 때문에 아래처럼 분해해 주어야 한다.
        
        ![Untitled](https://github.com/5dotseven/cs-basic-study/assets/118906074/a49545c0-0c29-4085-8e9c-4a13f49de076)
        
    - 제 3정규화(3nf)
        - 제3 정규화란 제2 정규화를 진행한 테이블에 대해 `이행적 종속`을 없애도록 테이블을 분해하는 것이다.
            - `이행적 종속` :  A -> B, 0B -> C가 성립할 때 A -> C가 성립되는 것
        - 3차 정규형은 기본키를 제외한 속성들 간의 **이행적 함수 종속이 없는 것** 이다. 풀어서 말하자면, 기본키 이외의 다른 컬럼이 그외 다른 컬럼을 결정할 수 없는 것이다.
        - 아래 두가지 조건을 만족시켜야 한다.
            - 릴레이션이 2NF에 만족한다.
            - 기본키가 아닌 속성들은 기본키에 의존한다.
            
            ![Untitled](https://github.com/5dotseven/cs-basic-study/assets/118906074/6a0e1877-297d-42e0-a68a-094ee75c9fdc)
            
        - 위 예시를 보면 ID(A)를 알면 등급(B)을 알 수 있고, 등급(B)을 알면 할인율(C)을 알 수 있다. 
        → ID를 알면 할인율을 알 수 있다. (A → C)
        이는 이행 족속성이기 때문에 아래와 같이 분해해 주어야 한다.
        
        ![Untitled](https://github.com/5dotseven/cs-basic-study/assets/118906074/6ef8efdd-d0b0-4aff-b61a-de56d10efae8)
        
- 정규화의 장단점
    - 장점
    1. 데이터베이스 변경 시 이상 현상(Anomaly) 제거 위에서 언급했던 각종 이상 현상들이 발생하는 문제점을 해결할 수 있다.
    2. 데이터베이스 구조 확장 시 재 디자인 최소화 정규화된 데이터베이스 구조에서는 새로운 데이터 형의 추가로 인한 확장 시, 그 구조를 변경하지 않아도 되거나 일부만 변경해도 된다. 이는 데이터베이스와 연동된 응용 프로그램에 최소한의 영향만을 미치게 되며 응용프로그램의 생명을 연장시킨다.
    - 단점
        1. 릴레이션의 분해로 인해 릴레이션 간의 연산(JOIN 연산)이 많아진다. 이로 인해 질의에 대한 응답 시간이 느려질 수 있다
    


출처

https://rud0503.tistory.com/100