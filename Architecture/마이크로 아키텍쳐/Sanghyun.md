## 마이크로 아키텍쳐

---

서비스를 작은 단위로 쪼개고, 독립적으로 작동하도록 구성하는 아키텍쳐

- 기존의 하나의 거대한 단위인 모놀리스 방식과 비교해 경량화 세분화
- 하나의 서비스는 독립적으로 동작이 가능해야 하며 다른 서비스에 영향을 주지 않아야 한다.
- 하나의 프로세스 확장 시 전체 애플리케이션 수정이 불필요

**장점**

- 서로 독립적이므로 높은 복구 능력과 장애 대처 능력을 가짐
- 기능별, 서비스 단위로 나뉘어 있기 때문에 개발자는 손쉽게 오류를 파악, 빠른 서비스 확장과 업데이트 등이 가능해진다.
- 특정 서비스만 확장이 가능하기 때문에 Scale-out이 간편하고 경제적이다.
- 서비스 별로 나눔으로 인해 코드 양이 작아지기 때문에 쉽게 새로운 기술을 도입할 수 있다.

**단점**

- 서비스가 세분화되면서 서비스 당 인력이 추가로 필요할 수 있으며, 업무를 명확하게 분리하지 못하면 팀원 간의 커뮤니케이션 문제 등으로 오류가 발생할 수 있다.
- 분산된 시스템의 설계는 어려움이 있으며 코딩이 복잡해 질 수 있다.
- 트랜잭션 관리가 복잡해지게 된다. 모놀리식의 경우 전부 같은 트랜잭션 내에 있기 때문에 오류 발생 시 롤백이 간편하지만 여러 서비스를 동시에 요청하는 마이크로서비스 방식은 롤백이 곤란하고 오랜 시간이 소요될 수 있다.
- 네트워크를 통해 각 서비스가 통신하므로 불안정할수록 서비스의 안정성이 낮아진다. 모놀리식은 영역 간 인터페이스에 네트워크를 사용하지 않지만 마이크로서비스는 네트워크의 상태에 따라 영향을 받기 쉽다.
  네트워크 정상 서비스 비율이 98%일 때 서비스를 거칠 때마다 이러한 비율은 낮아짐.
- 하나의 서비스를 따로 배포함에 따라 비용과 서버 용량이 추가적으로 필요해질 수 가 있다.

<aside>
💡 모놀리식 아키텍쳐

서비스 크기가 작은 경우

- 단일 서비스, 단일 환경이므로 개발 언어 통일, 하나의 코드 컨벤션만 관리하면 되기 때문에 개발이 쉽고 빠르다.
- 한꺼번에 모든 영역을 동시에 배포가 가능, 단일 시스템만 배포하면 끝
- 하나의 시스템, 하나의 DB, 하나의 네트워크이므로 적은 운용 비용과 리소스
- 간단하게 확장할 수 있다.. 단일 시스템이므로 scale-out은 서버 하나만, DB 하나만 용량을 늘리는 식으로 큰 고민 없이 가능하다.

서비스 규모가 커지면서

- 모든 서비스 영역이 묶여 있기 때문에 의존성이 복잡해지면 개발이 느리고 어려워진다.
- 같은 이유로 배포 시 연관성이 잘못될 수 있기 때문에 안정성이 떨어진다.
- 하나의 언어가 가지는 한계점에 도달하게 된다.
- Scale-out 한계에 도달하면 확장에 경제적 부담이 커진다. 서버의 용량 한계에 달하면 수직적 확장이 더 이상 불가능한데 수평적 확장을 하기 위해 동일한 장비를 하나 더 구성해야 하기 때문에 불필요한 장비까지 늘리면서 경제적 한계가 올 수 있다.

</aside>

출처:
[https://freeend.tistory.com/115](https://freeend.tistory.com/115)