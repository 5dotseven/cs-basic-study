## **레이어드+ 모듈형**

---

가장 기본적, 표준이 되는 아키텍쳐

- 관심사 별로 여러 개의 계층으로 분리
- 추상화된 인터페이스로만 소통, 자신보다 하위의 계층으로 요청을 보내는 방식
    - 현재 계층보다 상위이거나, 인접하지 않은 계층일 경우 요청을 보내지 못함
    - 단방향 의존성, 하위 계층은 상위 계층에 대해 몰라야 함.

**구조**

- 표준적으로 4-tier 계층이나 **프레젠테이션, 애플리케이션, 도메인, 데이터베이스**의 4계층으로 구성
    - Presentation
        - 사용자나 클라이언트 시스템과 직접적으로 연결, 외부와의 통신 담당
        - HTTP 요청을 읽고 애플리케이션 레이어에 전송, 비즈니스 로직의 결과를 표시
    - Application/ Business
        - 비즈니스 로직을 구현하는 코드가 모아둠
        - 요청의 validation, 트랜잭션의 시작과 끝
    - Domain/ Persistence
        - 도메인 모델을 관리하는 레이어
        - 엔티티, 객체, 서비스 등 도메인 관련 코드를 수행하며 실제 DB에서 데이터 CRUD를 수행하는 레이어
    - Database
- 프로젝트의 요구 사항이나 규모에 따라 그 이상이 되거나 프레젠테이션, 비즈니스 로직, 데이터 3계층으로 표현될 수도 있다.

**싱크홀**

- 하위 레이어를 거쳐서 요청이 전달되지만 막상 해당 레이어에서는 아무 작업 없이 전달만 하는 경우 불필요한 오버헤드가 발생한다.
- 이때 80-20 규칙을 통해 그냥 통과되는 요청의 비율에 따라 해당 레이어의 개방 여부를 결정한다.
    - 특정 계층을 우회하고 바로 아래 계층으로 요청을 보낼 수 있도록 하는 방식
    - 레이어드 계층 사용 시 이러한 개방형 레이어가 있을 경우 이후 유지, 관리를 위해 문서화하는 것이 매우 중요하다.

**특징**

- 각 계층별로 확장과 변경이 가능해 변화에 유연하게 대처할 수 있으며 코드의 재사용성과 유지보수성이 높다.
- 관심사의 분리를 통해 계층간 영향이 거의 없거나 적기 때문에 독립적 테스트와 수정이 가능하다.
- 계층이 많아질수록 데이터 전달과 변환 과정이 추가될 수 있어 오버헤드가 발생할 수 있다.
- 프로젝트가 거대해질수록 계층 간 통신 인터페이스 관리와 로직 추가에 문제가 발생할 수 있다.