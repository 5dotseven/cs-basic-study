# **해쉬테이블**

**해싱을 통해서 데이터를 검색과 저장을 편하게 하기 위한 자료구조**

해시 함수를 사용해서 변환한 값을 색인(index)로 사용해 키(key)와 데이터(값, value)를 저장하는 자료구조 이다. 값은 버킷이라는 장소에 저장된다.

데이터를 검색할 때 key 와 실제 데이터의 값이 한 쌍으로 존재하고, key 값이 배열의 인덱스로 변환되기 때문에 검색과 저장의 **시간 복잡도가 O(1)** 이다.

매핑 전 원래 데이터 값을**key**, 매핑 후 데이터의 값을 **해시 값(value)**라고 하며,매핑하는 과정 자체를 **해싱**이라고 한다.

데이터가 많아지면 다른Key 가 같은 해시 값으로 충돌하는 현상이 발생한다.(Collision)

### 단점

- 순서를 보장하지 않기 때문에, 순차 , 관계 구조에 부적합하다.
- 데이터가 랜덤 위치에 저장되기 때문에 데이터를 정렬된 순서로 접근할 때 불리하다.

### 장점

- 인덱스로 접근할 때 유리하다.
- 데이터 삽입, 삭제, 조회가 빠르다.
    - 기본적으로 키 값으로 데이터를 찾으려면 해시 함수를 한 번만 실행하면 되기 때문이다.
    

## **해시 함수(Hash Function)**

해시 함수는 임이의 길이를 갖는 메시지를 입력받아 고정된 길이의 해시값을 출력하는 함수. 

암호 알고리즘에는 키가 사용되지만, 해시 함수는 키를 사용하지 않으므로 같은 입력에 대해서는 항상 같은 출력이 나오게 된다. 

이러한 해시함수를 하여 메시지의 오류나 변조를 탐지할 수 있는 무결성을 제공됨.

## **해시 충돌 (Hash Collision)**

다른 키 값에 해시 함수를 돌렸는데 같은 해시 값이 나오는 경우.

### 해결법

### **1.분리 연결법 (Separate Chaining)**

**동일한 버킷에 저장되어야하는 데이터에 체인을 걸어 찾는 데이터가 나올 때까지 계속 체인을 따라가는 방식**이다.

**다른 자료구조를 버킷에 연결해서 다음 데이터를 저장**한다.

![image](https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F552fe0dc-fdb3-4c62-979e-df2a2e235613%2F758b46a4-c91c-4df5-a29c-4bcf2e93786f%2FUntitled.png?table=block&id=57fe5db4-8792-4e76-a821-35629b5c4654&spaceId=552fe0dc-fdb3-4c62-979e-df2a2e235613&width=2000&userId=a09a1ca3-4214-4905-a7a2-172e60f8cd39&cache=v2)

### 장점

- 버킷을 계속 사용해야하는 개방 주소법에 비해 테이블의 확장을 늦출 수 있다.

### 단점

- 데이터의 수가 많아지면 동일한 버킷에 chaining되는 데이터가 많아지며 그에 따라 캐시의 효율성이 감소한다.

사용하는 자료구조로 Linked-List와 Tree가 사용된다.

### 개방 주소법(Open Addressing)

저장해야 하는 인덱스에 값이 있으면 **다른 인덱스에 저장하는 방법**이다.

![image](https://velog.velcdn.com/images/dlgosla/post/e8f788d3-9574-4939-8e75-510a1ed0cf4a/image.png)

### 장점

- 적은 양의 데이터에 효과적이다.
- 메모리 효율이 분리 연결법에 비해 좋다.
- 메모리 할당에 대한 오버헤드가 없다.
- 분리연결법에 비해 캐시 효율이 좋다.

### 단점

- 테이블의 확장이 필요할 수 있다.

### **Resizing : 테이블 크기 재할당**

해시 테이블은 유한한 데이터 공간을 가지기 때문에, 어느 순간 테이블이 꽉 차는 상황이 발생할 수 있다. 

**Open Address** 방식을 사용하는 경우에는 더 이상 데이터를 저장할 공간이 없고, 

**Seperate Chaining** 방식을 사용하는 경우에는 연결된 데이터가 길어지면서 해시테이블에 대한 장점이 사라지게 된다. 

따라서 저장 공간의 75%가 채워지면 테이블을 두배로 확장된다.