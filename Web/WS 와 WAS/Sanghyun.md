## **Web server / Was**

---

**Web Server**

- 하드웨어에서는 웹 서버가 설치된 컴퓨터를 의미
- 소프트웨어에서는 웹 브라우저 클라이언트로부터 HTTP 요청을 받아 정적인 컨텐츠를 제공하는 프로그램
- 기능 - 제공하는 컨텐츠 종류에 따라 달라짐
    - 정적
        - WAS를 거치지 않고 바로 자원을 제공
        - 항상 동일한 결과물로 이미지, html, css 파일 등
    - 동적
        - 클라이언트의 요청을 WAS에 전송
        - WAS에서는 로직을 거쳐 결과물을 생성하고 이를 클라이언트에게 응답
- Nginx, Apace 등이 예시

**WAS**

DB 조회, 로직을 요구하는 동적인 컨텐츠를 제공하기 위해 제작된 Application Server

HTTP를 통해 컴퓨터나 장치의 앱을 수행해주는 미들웨어로 웹 컨테이너, 서블릿 컨테이너라고 부름

- Web Server의 기능들을 분리하여 처리하는 목적
    - 주로 DB 서버와 같이 수행됨
    - 트랜잭션, 보안, 쓰레드 처리 등의 기능을 분산해서 처리
    - 현재는 WAS 자체로 정적인 컨텐츠를 제공해도 크게 문제는 없다
- 주요 기능
    - 프로그램 실행 환경, DB 접속 제공
    - 트랜잭션 관리 기능
    - 비즈니스 로직 수행
- Tomcat, IBM WebSphere, JBoss

**왜 Web Server와 WAS를 분리할까?**

- 클라이언트가 응답을 받는 과정
    - 필요한 정적 파일들은 HTML 파일과 함께 보내지는 것이 아닌 사용자가 HTML 문서를 받고 필요한 파일들을 다시 요청할 때 보내지는 것
    - 이미지 파일, 영상 파일과 같은 정적 파일들은 Application Server를 거칠 필요없이 앞단에서 빠르게 제공이 가능하다
    - 하지만 동적 컨텐츠를 제공하고자 할 때 Web Server 자원만으로 이를 수행하기에는 역부족
    - 정적 파일들은 앞단에서 DB 접속과 로직 수행이 필요한 경우 WAS에서 수행하도록 해 로드를 나눔으로써 자원을 효율성을 높이고 부하를 분산시키는 것
- WAS만으로도 가능하지 않을까
    - 기능 분리로 인한 부하 방지
        - 정적 페이지까지 WAS에서 처리하면 부하가 증가
        - 페이지 노출 시간이 증가해 사용자 경험에 악영향
    - 물리적 분리를 통한 보안 강화
    - 여러대의 WAS를 통한 Fail Over 이점
        - 로드 밸런싱을 통해 여러 대의 WAS에 부하를 분산
        - 장애 발생 시 바로 트래픽 분산을 통한 무중단 운영으로 더 나은 유저 경험이 가능해짐
- 자원 효율성, 장애 극복, 배포와 유지 보수의 편의성을 위해 분리하여 운영하는 것