### 4. HTTP 와 HTTPS 의 차이점, HTTP 의 문제점들

---

- **HTTP (Hyper Text Transfer Protocol)**

HTML과 같은 하이퍼미디어 문서를 전송하기 위한 애플리케이션 계층 프로토콜로 웹에서 이루어지는 모든 데이터 교환의 기초

→ 클라이언트와 서버 간에 데이터를 주고 받기 위한 규약

**특징**

1. 무상태성, 서버는 클라이언트의 상태를 저장하지 않아 요청과 응답이 독립적
2. 비연결성, 요청에 대한 응답을 완료하면 TCP/IP 연결을 끊는다. 연결을 유지하지 않기 때문에 자원의 절약이 가능해진다.
   하지만 HTML, CSS, JavaScript, 이미지 등 각각의 자원을 받기 위해 매번 3-way handshake를 요청하는 것은 비효율적이었으며 HTTP 1.1부터 지속 연결이 가능해진다.

- **HTTPS (Hyper Text Transfer Protocol Secure)**

HTTP는 80번 포트를 통해 텍스트 형태로 데이터를 주고 받으며 이러한 특성으로 인해 중간에 탈취로 인한 데이터 유출에 취약했다.

또, 수신자를 확인하지 않고 무결성을 증명하지 않아 타인으로 위장하거나 데이터를 변조하여 악의적인 요청을 보낼 수 있었다.

이를 개선하기 위해 보안 소켓을 추가해 모든 통신 내용을 암호화한 것이 HTTPS이다.

![HTTP, HTTPS 차이](./이미지/03-3.png)
[https://rachel-kwak.github.io/2021/03/08/HTTPS.html](https://rachel-kwak.github.io/2021/03/08/HTTPS.html)

- SSL과 TLS는 암호화 기반 인터넷 보안 프로토콜로 SSL은 96년 이후로 업데이트 되지 않아 현재는 TLS로 대체되고 있다. 명칭만 다를 뿐 TLS는 SSL의 취약점 업데이트 버전이라고 볼 수 있다.
- SSL/TLS를 통해 데이터를 암호화하며 클라이언트와 서버 간에 핸드 셰이크 과정을 통해 서로 간의 인증 과정을 거친다. 추가적으로 데이터에 디지털 서명을 해 데이터의 변조 여부를 확인 할 수 있다.
- SSL/TLS 인증서는 서버가 신뢰할 수 있는 서버라는 것을 증명해주며 다음과 같은 정보를 가지고 있다.
    - 서비스 정보 - 인증서를 발급한 기관, 도메인 정보 등
    - 서버 측 공개키
    - 지문, 디지털 서명

<aside>
💡 서버는 CA 기관에 도메인, 공개 키 등의 정보를 제출해 검증을 받음
CA는 검증 후 CA만의 비빌 키로 서버의 공개키를 해시 → 지문
이후 인증서에 정보를 담아 반환

</aside>

- 통신할 때 서버 측에서 인증서를 클라이언트에게 전달하고 클라이언트는 인증서에 담긴 CA 기관 정보를 확인하고 기관의 공개키를 통해 인증서의 디지털 서명을 복호화
- 디지털 서명을 복호화한 값과 공개키를 해시한 값이 같으면 서버는 신뢰할 수 있는 서버임을 확인할 수 있다.

<aside>
💡 공개키 - 두 개의 키 A와 B

A키를 통해 암호화하면 B키를 통해 복호화 가능,
반대로 B키를 통해 암호화하면 A키를 통해 복호화가 가능
**A, B 중 하나를 비공개키, 다른 하나를 공개키로 사용하여 대중들이 사용할 수 있게 하는 것**

공개키가 유출이 되어도 한 개의 키로는 암호화만 가능하기에 정보가 안전

</aside>

**예상질문**

1. HTTPS 작동방식에 대해 설명
2. 공개키와 비공개키에 대해 설명
3. HTTP와 HTTPS의 차이점이 무엇인가

추가사항

- HTTP 버전 별 발전 역사