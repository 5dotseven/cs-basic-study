# 운영체제(OS) 프로세스 동기화
> 두 개 이상의 프로세스 or 쓰레드가 데이터를 공유하는 환경에서 데이터를 교차적으로 사용 하면? 발생하면 어떻게 되고 어떻게 처리할까

이 문제가 바로 `데이터 일관성 문제 (Data Consistency Problem)`

Race Condition
- 프로세스나 스레드가 공유 자원에서 접근할 경우 접근 순서에 따라 결과가 달라지는 현상

## 프로세스 동기화
다중 프로세스 환경에서 데이터 일관성을 유지하도록 하는 것

-> 임계영역(Critical Section)이 존재(동시에 접근하는 경우가 발생하는 영역 접근 순서에 따라 실행결과가 달라지는 구역)

해결방법
조건
- **Mutual Exclusion (상호배타)** : 오직 한 쓰레드만 진입
- **Progress (진행)** : 진입 결정은 유한 시간 내
- **Bounded Waiting (유한 대기)** : 어느 쓰레드라도 유한 시간 내

하드웨어 기반 해결책은 복잡한 형태 따라서 소프웨어 도구가 개발됨

### 뮤텍스 락(Mutex Lock)
- lock을 걸면서 동기화 문제를 해결
- 상호 배제 개념을 이용하여 임계영역을 가진 쓰레드들이 각각 단독으로 실행되게함
- acquire() : Lock을 획득
- release() : Lock을 반환

### 세마포어(Semaphore)
세마포어 S 정수 변수로써 wait(), signal()로 접근이 가능
- P연산
    - 자원을 할당
- V연산
    - 자원을 해제
- 임계영역에 가기전에 세마포어 카운터 변수를 통해 자원에 접근 가능하지 확인하는 방식
- wait(): 임계영역에 들어가면 세마포어  변수 1 감소
- signal(): 임계영역에서 들어가면 세마포어 변수 1 증가

> 모니터(Monitor) 임계 구역에 많은 프로세스들이 실행될 수 있어 상호메타가 안지켜짐 따라서 deadlock이 발생할 수 있음
> 따라서 프로그래머들이 세마포어를 잘못 사용하면 다양한 오류가 발생함 그래서 모니터를 사용

