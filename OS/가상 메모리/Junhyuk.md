# 가상 메모리

# 가상 메모리

### 가상 메모리는 왜 쓰는가?

- **실제 메모리 크기보다 요구 메모리가 큰 프로그램(프로세스)를** 실행하기 위해서
    - RAM의 비용은 자원 중 비싼 자원이다 때문에 PC의 경우는 16GB정도인 경우가 대다수이다. 그런데 용량이 50GB나 되는 게임들을 어떻게 실행할 수 있을까?  이는 **가상 메모리를** 활용한 것이다.

### 가상 메모리의 핵심 아이디어

- 모든 데이터를 **주 기억장치에 올리지 않고**, **필요한 것들만 올려서** 사용한다.
- 현재 실행되지 않는 프로세스는 **보조 기억장치(HDD, SDD)에 존재**
- **필요할 때 보조 기억장치에서 주 기억장치로 옮겨서 사용한다.**

### MMU(Memory Managment Unit)

가상 메모리의 주소와 실제 메모리의 주소는 일치하지 않는다. 이를 어떻게 일치시키는가

- 가상 메모리의 주소와 실제 메모리 주소를 1:1 대응 시켜야 함.
- MMU는 가상 메모리 주소를 -> 실제 메모리 주소로 변환시켜주는 하드웨어.
- 하지만, 모든 메모리 주소를 MMU를 거쳐 변환하는 것은 오버헤드가 크다.
- 따라서, MMU는 메모리를 일정 단위로 쪼개서 관리한다.
    - 쪼개는 방법에 따라 페이징 기법, 세그멘테이션 기법이 있다.

### 요구 페이징 (Demand Paging)

- CPU가 요청할 때, 프로세스의 데이터를 RAM에 올리는 것을 말한다.
- 즉, 프로세스의 모든 데이터를 메모리에 올리지 않는다.
